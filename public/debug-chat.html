<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>èŠå¤©ç•Œé¢è°ƒè¯•</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'PingFang', sans-serif;
      background: radial-gradient(
        circle at top left,
        rgba(255, 209, 255, 0.3) 20%,
        rgba(130, 193, 187, 0.3) 100%
      );
      min-height: 100vh;
      padding: 20px;
    }

    .debug-container {
      max-width: 800px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #13987f;
      margin-bottom: 20px;
    }

    .status {
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
    }

    .status.ok {
      background: #f0f9eb;
      border-left: 4px solid #52c41a;
      color: #52c41a;
    }

    .status.error {
      background: #fef0f0;
      border-left: 4px solid #f5222d;
      color: #f5222d;
    }

    .status.warning {
      background: #fffbe6;
      border-left: 4px solid #faad14;
      color: #faad14;
    }

    .checklist {
      list-style: none;
      padding: 0;
    }

    .checklist li {
      padding: 8px 0;
      border-bottom: 1px solid #e3e3e3;
    }

    .checklist li::before {
      content: "âœ“ ";
      color: #52c41a;
      font-weight: bold;
    }

    .code-block {
      background: #f5f5f5;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
      font-family: monospace;
      font-size: 14px;
    }

    .fix-button {
      background: #13987f;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin: 10px 5px;
    }

    .fix-button:hover {
      background: #0f7d69;
    }
  </style>
</head>
<body>
  <div class="debug-container">
    <h1>ğŸ”§ HuLamatrix èŠå¤©ç•Œé¢è°ƒè¯•å·¥å…·</h1>

    <div class="status ok">
      âœ“ èƒŒæ™¯æ¸å˜å·²æˆåŠŸåº”ç”¨
    </div>

    <div class="status warning">
      âš ï¸ å¦‚æœèŠå¤©ç•Œé¢ä¸æ˜¾ç¤ºï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š
    </div>

    <h2>æ£€æŸ¥æ¸…å•</h2>
    <ul class="checklist">
      <li>ç¡®ä¿ ChatIntegration ç»„ä»¶æ­£ç¡®å¯¼å…¥</li>
      <li>æ£€æŸ¥ ChatBox ç»„ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®</li>
      <li>ç¡®è®¤ CSS å˜é‡å·²å®šä¹‰</li>
      <li>éªŒè¯ z-index å±‚çº§è®¾ç½®</li>
      <li>æ£€æŸ¥æ˜¯å¦æœ‰ display: none æ ·å¼</li>
    </ul>

    <h2>CSS å˜é‡æ£€æŸ¥</h2>
    <div class="code-block">
      <p>--hula-primary: <span id="var-primary"></span></p>
      <p>--right-theme-bg-color: <span id="var-bg"></span></p>
      <p>--text-color: <span id="var-text"></span></p>
    </div>

    <h2>ä¿®å¤å»ºè®®</h2>
    <div style="margin-top: 20px;">
      <button class="fix-button" onclick="applyFix1()">ä¿®å¤ 1: å¼ºåˆ¶æ˜¾ç¤ºèŠå¤©å®¹å™¨</button>
      <button class="fix-button" onclick="applyFix2()">ä¿®å¤ 2: é‡ç½® z-index</button>
      <button class="fix-button" onclick="applyFix3()">ä¿®å¤ 3: æ¸…é™¤éšè—æ ·å¼</button>
    </div>

    <div id="fix-result" style="margin-top: 20px;"></div>
  </div>

  <script>
    // æ£€æŸ¥CSSå˜é‡
    const rootStyle = getComputedStyle(document.documentElement);
    document.getElementById('var-primary').textContent = rootStyle.getPropertyValue('--hula-primary') || 'æœªå®šä¹‰';
    document.getElementById('var-bg').textContent = rootStyle.getPropertyValue('--right-theme-bg-color') || 'æœªå®šä¹‰';
    document.getElementById('var-text').textContent = rootStyle.getPropertyValue('--text-color') || 'æœªå®šä¹‰';

    // ä¿®å¤å‡½æ•°
    function applyFix1() {
      const style = document.createElement('style');
      style.textContent = `
        .chat-integration, .chat-box, .chat-container {
          display: flex !important;
          visibility: visible !important;
          opacity: 1 !important;
          height: 100% !important;
        }
      `;
      document.head.appendChild(style);
      document.getElementById('fix-result').innerHTML = '<div class="status ok">âœ“ ä¿®å¤1å·²åº”ç”¨ï¼šå¼ºåˆ¶æ˜¾ç¤ºèŠå¤©å®¹å™¨</div>';
    }

    function applyFix2() {
      const style = document.createElement('style');
      style.textContent = `
        .layout-right, .right-panel {
          position: relative !important;
          z-index: 1 !important;
        }
      `;
      document.head.appendChild(style);
      document.getElementById('fix-result').innerHTML = '<div class="status ok">âœ“ ä¿®å¤2å·²åº”ç”¨ï¼šé‡ç½® z-index</div>';
    }

    function applyFix3() {
      const elements = document.querySelectorAll('.chat-integration, .chat-box, .chat-container');
      elements.forEach(el => {
        el.style.display = '';
        el.style.visibility = '';
        el.style.opacity = '';
      });
      document.getElementById('fix-result').innerHTML = '<div class="status ok">âœ“ ä¿®å¤3å·²åº”ç”¨ï¼šæ¸…é™¤éšè—æ ·å¼</div>';
    }

    // è®¾ç½®CSSå˜é‡
    document.documentElement.style.setProperty('--hula-primary', '#64a29c');
    document.documentElement.style.setProperty('--right-theme-bg-color', 'radial-gradient(circle at top left, rgba(255, 209, 255, 0.3) 20%, rgba(130, 193, 187, 0.3) 100%)');
    document.documentElement.style.setProperty('--text-color', '#18181c');
  </script>
</body>
</html>