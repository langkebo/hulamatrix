# =============================================================================
# HuLa Matrix Environment Configuration
# =============================================================================

# 基础配置
VITE_APP_NAME="HuLa"
VITE_PC_URL="https://github.com/HuLaSpark/HuLa"
VITE_SERVICE_URL="https://github.com/HuLaSpark/HuLa-Server"

# Matrix 核心配置
# 服务器名称（域名），通过 .well-known 服务发现获取真实 homeserver 地址
VITE_MATRIX_ENABLED=on
VITE_MATRIX_SERVER_NAME=cjystx.top

# 功能模块开关
VITE_MATRIX_ROOMS_ENABLED=on
VITE_MATRIX_MEDIA_ENABLED=on
VITE_MATRIX_PUSH_ENABLED=on
VITE_MATRIX_E2EE_ENABLED=on
VITE_MATRIX_RTC_ENABLED=on
VITE_MATRIX_ADMIN_ENABLED=on

# 扩展功能
VITE_SYNAPSE_FRIENDS_ENABLED=on
VITE_MOBILE_FEATURES_ENABLED=off

# ========== Phase 1 迁移配置 ==========

# 禁用自定义WebSocket，完全使用Matrix标准协议
VITE_DISABLE_WEBSOCKET=true

# 消息处理迁移到Matrix SDK
VITE_MIGRATE_MESSAGING=true

# Phase 1: 是否要求Matrix登录成功 (false=允许仅自定义后端登录)
VITE_REQUIRE_MATRIX_LOGIN=false

# Phase 1: 允许在Matrix登录失败时继续登录 (用于迁移期间)
VITE_ALLOW_LOGIN_WITHOUT_MATRIX=true

# 移动端细粒度功能开关
# UI 特性
VITE_MOBILE_PULL_TO_REFRESH=on
VITE_MOBILE_LONG_PRESS_MENUS=on
VITE_MOBILE_SWIPE_GESTURES=on
VITE_MOBILE_HAPTIC_FEEDBACK=on
VITE_MOBILE_SAFE_AREA_INSET=on

# 性能优化
VITE_MOBILE_IMAGE_CACHE=on
VITE_MOBILE_VIRTUAL_SCROLL=on
VITE_MOBILE_IMAGE_LAZY_LOAD=on

# 移动端 Matrix 功能
VITE_MOBILE_MATRIX_SPACES=off
VITE_MOBILE_MATRIX_ROOM_SEARCH=off
VITE_MOBILE_MATRIX_E2EE_SETTINGS=off
VITE_MOBILE_MATRIX_ADVANCED_ROOM_SETTINGS=off

# 开发配置
VITE_MATRIX_DEV_SYNC=false

# 认证信息（仅用于开发演示，生产请通过登录流程获取）
# 警告：请勿将真实 Token 提交到 Git
VITE_MATRIX_ACCESS_TOKEN=
VITE_MATRIX_USER_ID=

# Gitee Token（用于版本更新检查）
# 警告：请勿将真实 Token 提交到 Git，请在部署时通过环境变量设置
# 获取方式：登录 Gitee -> 设置 -> 私人令牌 -> 生成新令牌（需要 repo 权限）
VITE_GITEE_TOKEN=

# 说明：
# - 布尔开关支持 on/off/true/false/1/0/yes/no，多数开关默认关闭以便灰度。
# - VITE_MATRIX_SERVER_NAME 是域名，通过 .well-known 服务发现获取真实 homeserver 地址
# - TURN/STUN 凭证由 Homeserver `/_matrix/client/v3/voip/turnServer` 提供，无需额外环境变量。
# - 启动时将输出开关摘要与非标准值警告，便于快速校验。