{
  // ========================================
  // TypeScript 根配置文件
  // ========================================
  // 此文件定义了整个项目的基础 TypeScript 配置
  // 其他专用配置文件（如 tsconfig.app.json）会继承此配置

  "compilerOptions": {
    // ========================================
    // 目标和模块配置
    // ========================================

    // 指定编译输出目标的 ECMAScript 版本
    // ES2022 提供了现代 JavaScript 特性支持
    "target": "ES2022",

    // 指定模块系统，ESNext 支持最新的模块特性
    "module": "ESNext",

    // 模块解析策略，bundler 模式适合 Vite 等现代构建工具
    "moduleResolution": "bundler",

    // 临时保留 .ts 扩展名导入支持，待后续系统性重构时移除
    "allowImportingTsExtensions": true,

    // 允许导入 JSON 文件作为模块
    "resolveJsonModule": true,

    // 启用类字段的现代语义（define semantics for class fields）
    "useDefineForClassFields": true,

    // ========================================
    // 库支持配置
    // ========================================

    // 包含的库文件定义
    // ES2022: 现代 JavaScript API
    // DOM: 浏览器环境 API
    // DOM.Iterable: 可迭代的 DOM API
    "lib": ["ES2022", "DOM", "DOM.Iterable"],

    // 跳过声明文件的类型检查，提高编译速度
    // 特别重要：跳过第三方库的类型检查，避免库版本兼容性问题
    "skipLibCheck": true,

    // ========================================
    // JavaScript 互操作性
    // ========================================

    // 允许导入 JavaScript 文件
    "allowJs": true,

    // 禁用对 JavaScript 文件的类型检查
    "checkJs": true,

    // 允许使用默认导入语法，即使模块没有默认导出
    "allowSyntheticDefaultImports": true,

    // 启用 CommonJS 和 ES 模块之间的互操作性
    "esModuleInterop": true,

    // ========================================
    // 严格类型检查（最重要的配置）
    // ========================================

    // 启用所有严格类型检查选项
    "strict": true,
    "exactOptionalPropertyTypes": false,

    // 禁止隐式的 any 类型
    "noImplicitAny": true,

    // 严格检查 null 和 undefined
    "strictNullChecks": true,

    // 严格检查函数类型
    "strictFunctionTypes": true,

    // 严格检查 bind、call、apply
    "strictBindCallApply": true,

    // 严格检查类属性初始化
    "strictPropertyInitialization": true,

    // 禁止 this 表达式的隐式 any 类型
    "noImplicitThis": true,

    // 要求函数中的所有代码路径都有返回值或显式返回
    "noImplicitReturns": true,

    // 要求子类中的 override 标记
    "noImplicitOverride": true,

    // ========================================
    // 额外的代码质量检查
    // ========================================

    // 检查未使用的局部变量
    "noUnusedLocals": false,

    // 检查未使用的参数
    "noUnusedParameters": false,

    // 检查 switch 语句中的贯穿情况
    "noFallthroughCasesInSwitch": true,

    // 禁止无法到达的代码
    "allowUnreachableCode": false,

    // 禁止未使用的标签
    "allowUnusedLabels": false,

    // 确保导入的名称与文件系统中的大小写一致
    "forceConsistentCasingInFileNames": true,

    // ========================================
    // 模块和路径映射配置
    // ========================================

    // 基础路径，用于模块解析
    "baseUrl": ".",

    // 路径映射，简化导入语句
    "paths": {
      // @/ 指向 src 目录
      "@/*": ["./src/*"],
      // @/matrix/* 指向 src/matrix 目录（Matrix 服务统一入口）
      "@/matrix/*": ["./src/matrix/*"],
      // #/ 指向 src/mobile 目录（移动端专用代码）
      "#/*": ["./src/mobile/*"],
      // ~/ 指向项目根目录
      "~/*": ["./*"],
      // @@/ 指向 src-tauri 目录（Tauri 后端代码）
      "@@/*": ["./src-tauri/*"],
      // ~/ 指向 tauri-plugin-hula 目录
      "~~/*": ["./tauri-plugin-hula/*"],
      // matrix-js-sdk 指向本地SDK（存在则用于类型解析）
      "matrix-js-sdk/*": ["../matrix-js-sdk-39.1.3/*"],
      "matrix-js-sdk": ["../matrix-js-sdk-39.1.3"]
    },

    // ========================================
    // 编译输出配置
    // ========================================

    // 不生成输出文件（由 Vite 处理）
    "noEmit": true,

    // 保留 JSX 语法，不进行转换（由 Vue 处理）
    "jsx": "preserve",

    // 指定 JSX 转换的运行时（用于 Vue 3）
    "jsxImportSource": "vue",

    // 将每个文件作为单独的模块处理
    "isolatedModules": true,

    // ========================================
    // 源码映射和调试
    // ========================================

    // 生成源码映射文件
    "sourceMap": true,

    // 保留注释
    "removeComments": false,

    // ========================================
    // 声明文件配置
    // ========================================

    // 不生成 .d.ts 文件（由专门的配置处理）
    "declaration": false,

    // 不生成声明文件的源码映射
    "declarationMap": false,

    // ========================================
    // 类型定义包含
    // ========================================

    // 包含的全局类型定义
    "types": ["vitest/globals", "node", "vite/client"],

    // 忽略的废弃警告
    "ignoreDeprecations": "5.0",

    // ========================================
    // 其他配置
    // ========================================

    // 不导入辅助函数
    "importHelpers": false,

    // 根目录
    "rootDir": "."
  },

  // ========================================
  // 包含的文件和目录
  // ========================================
  "include": [
    // 项目源代码
    "src/**/*",
    "src/**/*.js",
    "src/**/*.cjs",
    "src/**/*.mjs",
    "src-tauri/**/*",
    "tauri-plugin-hula/**/*",

    // 脚本文件

    // 测试文件
    "tests/**/*",
    "tests/**/*.js",
    "tests/**/*.cjs",
    "tests/**/*.mjs",

    // 类型定义文件
    "src/types/**/*",
    "src/**/*.d.ts",
    "src/**/*.ts",
    "src/**/*.tsx",
    "src/**/*.vue",

    // 配置文件
    "vite.config.*",
    "vitest.config.*",
    "build/config/**/*"
  ],

  // ========================================
  // 排除的文件和目录
  // ========================================
  "exclude": [
    "rollup.config.js",
    "tauri-plugin-hula/rollup.config.js",
    // 依赖目录
    "node_modules",
    "node_modules/**/*",

    // 构建输出目录
    "dist",
    "dist/**/*",
    "build",
    "build/**/*",
    "coverage",
    "coverage/**/*",
    // 排除旧版或未启用的设置系统文件，避免类型不兼容影响编译
    "src/settings/**/*",
    "src/views/settings/**/*",
    "src/utils/MatrixApiBridge.ts",
    "src/hooks/useMsgInput/__tests__/**/*",

    // 临时目录
    "temp",
    "temp/**/*",
    ".tmp",
    ".tmp/**/*",

    // Tauri 生成的文件
    "src-tauri/target/**/*",
    "src-tauri/gen/**/*",
    "src-tauri/draco/**/*",
    "src-tauri/draco/draco_decoder.js",

    // 其他
    "**/node_modules",
    "**/dist",
    "**/build"
  ]

  // ========================================
  // 项目引用（TypeScript 项目引用）
  // ========================================
}
