/* ==========================================================================
   Color Tokens - 颜色系统
   ========================================================================== */

@use 'sass:map';
@use 'sass:string';

// PC端颜色 - 深色主题
$pc-dark: (
  bg-primary: #2D5A5A,      // 左侧导航背景
  bg-secondary: #2A2A2A,    // 中间列表背景
  bg-tertiary: #3A3A3A,     // 右侧聊天背景
  bg-elevated: #4A4A4A,     // 卡片/弹窗背景
  bg-hover: #5A5A5A,        // 悬停背景
  bg-active: #1a4a4a,       // 激活背景

  text-primary: #FFFFFF,    // 主要文字
  text-secondary: #E0E0E0,  // 次要文字
  text-tertiary: #A0A0A0,   // 辅助文字
  text-disabled: #707070,   // 禁用文字
  text-hint: #505050,       // 提示文字

  accent-primary: #00BFA5,  // 主强调色(亮绿)
  accent-hover: #00E6C8,    // 悬停状态
  accent-active: #009A8A,   // 激活状态
  accent-subtle: #1FDDD4,   // 柔和强调

  success: #00BFA5,         // 成功
  warning: #FFB84D,         // 警告
  error: #FF6B6B,           // 错误
  info: #4A90E2,            // 信息

  bubble-sent: #00BFA5,     // 发送气泡
  bubble-sent-text: #FFFFFF,// 发送文字
  bubble-received: #4A4A4A, // 接收气泡
  bubble-received-text: #E0E0E0, // 接收文字

  border-color: #4A4A4A,    // 边框颜色
  divider-color: #3A3A3A,   // 分割线颜色

  scrollbar-track: rgba(74, 74, 74, 0.3),
  scrollbar-thumb: #00BFA5,
  scrollbar-thumb-hover: #00E6C8,
);

// 移动端颜色 - 浅色主题
$mobile-light: (
  bg-primary: #E6F7F0,      // 主背景(薄荷绿)
  bg-secondary: #FFFFFF,    // 次级背景(白色)
  bg-tertiary: #F5F5F5,     // 第三级背景
  bg-elevated: #FFFFFF,     // 卡片背景
  bg-hover: #E0F0EB,        // 悬停背景
  bg-active: #D0EBE0,       // 激活背景

  text-primary: #333333,    // 主要文字
  text-secondary: #666666,  // 次要文字
  text-tertiary: #999999,   // 辅助文字
  text-disabled: #CCCCCC,   // 禁用文字
  text-hint: #BBBBBB,       // 提示文字

  accent-primary: #00B894,  // 主强调色(绿色)
  accent-hover: #00A883,    // 悬停状态
  accent-active: #00967B,   // 激活状态
  accent-subtle: #A8D5C1,   // 柔和强调

  success: #00B894,         // 成功
  warning: #FFB84D,         // 警告
  error: #FF6B6B,           // 错误
  info: #4A90E2,            // 信息

  bubble-sent: #00B894,     // 发送气泡
  bubble-sent-text: #FFFFFF,// 发送文字
  bubble-received: #FFFFFF, // 接收气泡
  bubble-received-text: #333333, // 接收文字

  border-color: #E0E0E0,    // 边框颜色
  divider-color: #EEEEEE,   // 分割线颜色

  scrollbar-track: rgba(0, 0, 0, 0.05),
  scrollbar-thumb: #00B894,
  scrollbar-thumb-hover: #00A883,
);

// 浅色主题(备用)
$light: (
  bg-primary: #F5F5F5,
  bg-secondary: #FFFFFF,
  bg-tertiary: #EEEEEE,
  bg-elevated: #FFFFFF,

  text-primary: #18181C,
  text-secondary: #5F5F5F,
  text-tertiary: #999999,
  text-disabled: #CCCCCC,

  accent-primary: #13987F,
  accent-hover: #0F7D69,
  accent-active: #0C6354,

  bubble-sent: #13987F,
  bubble-sent-text: #FFFFFF,
  bubble-received: #F1F1F1,
  bubble-received-text: #18181C,
);

@mixin export($theme) {
  $colors: if($theme == 'dark', $pc-dark, if($theme == 'mobile', $mobile-light, $light));
  $prefix: if($theme == 'mobile', 'mobile', if($theme == 'dark', 'pc', ''));

  @each $name, $value in $colors {
    --#{$prefix}-#{to-kebab-case($name)}: #{$value};
  }
}

// 辅助函数：转换为kebab-case
@function to-kebab-case($string) {
  $string: str-replace($string, '_', '-');
  @return $string;
}

@function str-replace($string, $search, $replace: '') {
  $index: string.index($string, $search);
  @if $index {
    @return string.slice($string, 1, $index - 1) + $replace + str-replace(string.slice($string, $index + string.length($search)), $search, $replace);
  }
  @return $string;
}
