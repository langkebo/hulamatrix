/**! HuLa主题 - 统一配色方案
 * 基于设计参考图片: img2-8.webp (PC), img2-3.webp (PC Call)
 * PC端深色主题：左侧深青绿色 + 中间深灰色 + 右侧中灰色
 */
:root {
  .hula {
    // ==================== 侧边栏样式 ====================
    // 采用HuLa的深青绿色系（基于设计图img2-8.webp）
    --left-bg-color: var(--hula-brand-primary);                    /* 深青绿色导航背景 */
    --left-active-bg-color: var(--hula-brand-primary);             /* 深红色选中背景（设计图规范） */
    --left-text-color: var(--hula-brand-primary);                  /* 浅灰色文字 */
    --left-icon-color: var(--hula-brand-primary);                  /* 浅灰色图标 */
    --left-active-hover: var(--hula-brand-primary);                /* 亮绿色悬停（PC强调色） */
    --left-bg-hover: rgba(var(--hula-success-rgb), 0.15);    /* 亮绿色悬停背景 */
    --left-active-icon-color: var(--hula-brand-primary);           /* 激活图标：亮绿色 */
    --left-win-icon-color: rgba(var(--hula-white-rgb), 0.4);
    --left-gradient-bg: linear-gradient(180deg, var(--hula-brand-primary) 0%, var(--hula-brand-primary) 100%);

    // ==================== 选中状态 ====================
    --border-active-color: var(--hula-brand-primary);              /* 深红色选中边框 */
    --primary-color: var(--hula-brand-primary);                    /* 主色：亮绿色 */
    --primary-color-hover: var(--hula-brand-primary);              /* 悬停：更亮绿色 */
    --primary-color-active: var(--hula-brand-primary);             /* 激活：深绿色 */

    // ==================== 布局背景色 ====================
    // PC端三连屏布局（基于设计图img2-8.webp）
    --right-theme-bg: var(--hula-brand-primary);                   /* 右侧聊天区：中灰色 */
    --right-theme-bg-color: var(--hula-brand-primary);             /* 右侧聊天区颜色 */
    --center-bg-color: var(--hula-brand-primary);                  /* 中间会话列表：深灰色 */

    // ==================== 聊天框样式 ====================
    --right-chat-reply-color: var(--hula-brand-primary);           /* 回复背景：灰色 */
    --right-chat-reply-active-color: rgba(var(--hula-success-rgb), 0.2); /* 回复激活 */
    --right-chat-footer-line-color: rgba(var(--hula-white-rgb), 0.1);

    // ==================== 消息列表样式 ====================
    --msg-active-color: var(--hula-brand-primary);                 /* 选中：亮绿色 */
    --msg-hover-bg: rgba(var(--hula-success-rgb), 0.15);     /* 悬停背景 */
    --msg-selected-bg: var(--hula-brand-primary);                  /* 选中背景：深红色 */

    // ==================== 群公告 ====================
    --group-notice-bg: var(--hula-brand-primary);                  /* 群公告背景 */

    // ==================== 通用悬停样式 ====================
    --list-hover-color: rgba(var(--hula-success-rgb), 0.1);  /* 列表悬停 */
    --icon-hover-color: rgba(var(--hula-success-rgb), 0.15); /* 图标悬停 */

    // Naive UI组件主题覆盖
    --n-color: var(--hula-brand-primary);
    --n-color-modal: rgba(42, 42, 42, 0.95);
    --n-color-popover: rgba(42, 42, 42, 0.95);
    --n-color-embedded: var(--hula-brand-primary);

    --n-text-color: var(--hula-brand-primary);
    --n-text-color-1: var(--hula-brand-primary);
    --n-text-color-2: var(--hula-brand-primary);
    --n-text-color-3: var(--hula-brand-primary);

    --n-primary-color: var(--hula-brand-primary);
    --n-primary-color-hover: var(--hula-brand-primary);
    --n-primary-color-pressed: var(--hula-brand-primary);
    --n-primary-color-suppl: var(--hula-brand-primary);

    --n-info-color: var(--hula-brand-primary);
    --n-info-color-hover: var(--hula-brand-primary);
    --n-info-color-pressed: var(--hula-brand-primary);
    --n-info-color-suppl: var(--hula-brand-primary);

    --n-success-color: var(--hula-brand-primary);
    --n-success-color-hover: var(--hula-brand-primary);
    --n-success-color-pressed: var(--hula-brand-primary);
    --n-success-color-suppl: var(--hula-brand-primary);

    --n-warning-color: var(--hula-brand-primary);
    --n-warning-color-hover: var(--hula-brand-primary);
    --n-warning-color-pressed: var(--hula-brand-primary);
    --n-warning-color-suppl: var(--hula-brand-primary);

    --n-error-color: var(--hula-brand-primary);
    --n-error-color-hover: var(--hula-brand-primary);
    --n-error-color-pressed: var(--hula-brand-primary);
    --n-error-color-suppl: var(--hula-brand-primary);

    --n-border-color: var(--hula-brand-primary);
    --n-border-color-1: var(--hula-brand-primary);
    --n-border-color-2: var(--hula-brand-primary);
    --n-border-color-3: var(--hula-brand-primary);

    --n-divider-color: var(--hula-brand-primary);

    --n-hover-color: var(--hula-brand-primary);
    --n-pressed-color: var(--hula-brand-primary);

    --n-scrollbar-color: var(--hula-brand-primary);
    --n-scrollbar-color-hover: var(--hula-brand-primary);

    // Matrix组件特定样式
    --matrix-bg-primary: var(--hula-brand-primary);
    --matrix-bg-secondary: var(--hula-brand-primary);
    --matrix-bg-chat: var(--hula-brand-primary);
    --matrix-border: rgba(var(--hula-success-rgb), 0.2);
    --matrix-text: var(--hula-brand-primary);
    --matrix-text-secondary: var(--hula-brand-primary);
    --matrix-avatar-border: rgba(var(--hula-success-rgb), 0.3);
    --matrix-bubble-sent: var(--hula-brand-primary);
    --matrix-bubble-received: var(--hula-brand-primary);
    --matrix-typing-indicator: var(--hula-brand-primary);
  }
}

/* 深色模式适配
 * PC端默认为深色主题，与设计图img2-8.webp保持一致
 */
html[data-theme='dark'] {
  .hula {
    // ==================== 侧边栏样式 ====================
    // 深色模式保持一致（PC默认深色）
    --left-bg-color: var(--hula-brand-primary);                    /* 深青绿色导航背景 */
    --left-active-bg-color: var(--hula-brand-primary);             /* 深红色选中背景 */
    --left-text-color: var(--hula-brand-primary);                  /* 浅灰色文字 */
    --left-icon-color: var(--hula-brand-primary);                  /* 浅灰色图标 */
    --left-active-hover: var(--hula-brand-primary);                /* 亮绿色悬停 */
    --left-bg-hover: rgba(var(--hula-success-rgb), 0.2);     /* 亮绿色悬停背景 */
    --left-active-icon-color: var(--hula-brand-primary);           /* 激活图标：亮绿色 */
    --left-win-icon-color: rgba(var(--hula-white-rgb), 0.4);
    --left-gradient-bg: linear-gradient(180deg, var(--hula-brand-primary) 0%, var(--hula-brand-primary) 100%);

    // ==================== 选中状态 ====================
    --border-active-color: var(--hula-brand-primary);              /* 深红色选中边框 */
    --primary-color: var(--hula-brand-primary);                    /* 主色：亮绿色 */
    --primary-color-hover: var(--hula-brand-primary);              /* 悬停：更亮绿色 */
    --primary-color-active: var(--hula-brand-primary);             /* 激活：深绿色 */

    // ==================== 布局背景色 ====================
    --right-theme-bg: var(--hula-brand-primary);                   /* 右侧聊天区：中灰色 */
    --right-theme-bg-color: var(--hula-brand-primary);
    --center-bg-color: var(--hula-brand-primary);                  /* 中间会话列表：深灰色 */

    // ==================== 聊天框样式 ====================
    --right-chat-reply-color: rgba(74, 74, 74, 0.8);
    --right-chat-reply-active-color: rgba(var(--hula-success-rgb), 0.2);
    --right-chat-footer-line-color: rgba(var(--hula-white-rgb), 0.1);

    // ==================== 消息列表样式 ====================
    --msg-active-color: var(--hula-brand-primary);                 /* 选中：亮绿色 */
    --msg-hover-bg: rgba(var(--hula-success-rgb), 0.15);     /* 悬停背景 */
    --msg-selected-bg: var(--hula-brand-primary);                  /* 选中背景：深红色 */

    // ==================== 群公告 ====================
    --group-notice-bg: rgba(58, 58, 58, 0.9);

    // ==================== 通用悬停样式 ====================
    --list-hover-color: rgba(var(--hula-success-rgb), 0.1);
    --icon-hover-color: rgba(var(--hula-success-rgb), 0.15);

    // Naive UI组件主题覆盖 - 深色
    --n-color: var(--hula-brand-primary);
    --n-color-modal: rgba(var(--hula-gray-900-rgb), 0.95);
    --n-color-popover: rgba(var(--hula-gray-900-rgb), 0.95);
    --n-color-embedded: var(--hula-brand-primary);

    --n-text-color: var(--hula-brand-primary);
    --n-text-color-1: var(--hula-brand-primary);
    --n-text-color-2: var(--hula-brand-primary);
    --n-text-color-3: var(--hula-brand-primary);

    --n-primary-color: var(--hula-brand-primary);
    --n-primary-color-hover: var(--hula-brand-primary);
    --n-primary-color-pressed: var(--hula-brand-primary);
    --n-primary-color-suppl: var(--hula-brand-primary);

    --n-border-color: var(--hula-brand-primary);
    --n-border-color-1: var(--hula-brand-primary);
    --n-border-color-2: var(--hula-brand-primary);
    --n-border-color-3: var(--hula-brand-primary);

    --n-divider-color: var(--hula-brand-primary);

    --n-hover-color: var(--hula-brand-primary);
    --n-pressed-color: var(--hula-brand-primary);

    --n-scrollbar-color: var(--hula-brand-primary);
    --n-scrollbar-color-hover: var(--hula-brand-primary);

    // Matrix组件特定样式 - 深色
    --matrix-bg-primary: rgba(var(--hula-gray-900-rgb), 0.95);
    --matrix-bg-secondary: rgba(36, 36, 40, 0.95);
    --matrix-bg-chat: rgba(var(--hula-gray-900-rgb), 0.9);
    --matrix-border: rgba(var(--hula-brand-rgb), 0.3);
    --matrix-text: var(--hula-brand-primary);
    --matrix-text-secondary: var(--hula-brand-primary);
    --matrix-avatar-border: rgba(var(--hula-brand-rgb), 0.4);
    --matrix-bubble-sent: var(--hula-brand-primary);
    --matrix-bubble-received: var(--hula-brand-primary);
    --matrix-typing-indicator: var(--hula-brand-primary);
  }
}

/* 全局样式增强 */
.hula-theme {
  // 应用整体背景
  background: var(--right-theme-bg);

  // 渐变背景动画
  &::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--right-theme-bg);
    z-index: -1;
    animation: gradientShift 20s ease infinite;
  }
}

@keyframes gradientShift {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

// 特定组件样式
.hula {
  // 聊天消息气泡
  .message-bubble {
    &.sent {
      background: var(--matrix-bubble-sent);
      color: white;
    }

    &.received {
      background: var(--matrix-bubble-received);
      color: var(--matrix-text);
    }
  }

  // 输入框样式
  .n-input {
    background: var(--matrix-bg-primary);
    border-color: var(--matrix-border);

    &:hover, &.n-input--focus {
      border-color: var(--primary-color);
    }
  }

  // 按钮样式
  .n-button--primary-type {
    background: var(--primary-color);

    &:hover {
      background: var(--primary-color-hover);
    }

    &:active {
      background: var(--primary-color-active);
    }
  }

  // 头像边框
  .n-avatar {
    border: 2px solid var(--matrix-avatar-border);
  }

  // 滚动条样式
  .n-scrollbar {
    --n-scrollbar-color: var(--n-scrollbar-color);
    --n-scrollbar-color-hover: var(--n-scrollbar-color-hover);
  }

  // 卡片样式
  .n-card {
    background: var(--matrix-bg-primary);
    border-color: var(--matrix-border);
  }

  // 抽屉样式
  .n-drawer {
    .n-drawer-body {
      background: var(--matrix-bg-primary);
    }
  }

  // 模态框样式
  .n-modal {
    .n-modal-body-wrapper {
      .n-modal-body {
        background: var(--matrix-bg-primary);
      }
    }
  }
}