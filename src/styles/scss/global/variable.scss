@use 'fonts';
* {
  font-family: var(--font-family), sans-serif !important;
  caret-color: var(--hula-brand-primary) !important; /* 改变输入框光标的颜色 */
}
html,
body,
svg {
  &::selection {
    background: rgba(var(--hula-brand-rgb), 0.3); /** 输入框选中文本背景色 */
  }
  outline: none;
  overscroll-behavior: none; // 禁止mac的"触底反弹"效果
}

::selection {
  background: rgba(var(--hula-brand-rgb), 0.3); /** 输入框选中文本背景色 */
}
/**! 主题变量 - 基于HuLa配色方案 */
/* todo: 这里只需要定义单个颜色的变量即可无需重复定义组件的颜色 */
:root {
  // 是否启用阴影
  --shadow-enabled: 1;
  // 字体
  --font-family: 'PingFang';
  // 是否启用透明高斯模糊
  --blur-enabled: 1;
    // 应用背景色 - 使用HuLa的渐变背景
  --app-bg-color: var(--hula-brand-primary);
  --app-bg-gradient: radial-gradient(
    circle at top left,
    rgba(255, 209, 255, 0.3) 20%,
    rgba(130, 193, 187, 0.3) 100%
  );

  --center-bg-color: var(--hula-white);
  --right-bg-color: var(--hula-brand-primary);

  // HuLa主色调 - 青色系
  --hula-primary: var(--hula-brand-primary);
  --hula-primary-light: var(--hula-brand-primary);
  --hula-primary-dark: var(--hula-brand-primary);
  --hula-accent: var(--hula-brand-primary);
  --hula-accent-hover: var(--hula-brand-primary);
  --hula-accent-active: var(--hula-brand-primary);
  // 阴影样式的颜色
  --box-shadow-color: rgba(var(--hula-black-rgb), 0.08);
  // 文字颜色
  --text-color: var(--hula-brand-primary);
  // 整体图标颜色
  --icon-color: var(--hula-black);
  --action-bar-icon-color: var(--hula-brand-primary);
  --action-bar-icon-hover: var(--hula-brand-primary);
  // 搜索框背景颜色
  --search-bg-color: var(--hula-brand-primary);
  // 消息列表样式
  --bg-msg-first-child: var(--hula-brand-primary);
  --bg-msg-hover: var(--hula-brand-primary);
  --bg-active-msg: var(--hula-brand-primary);
  // 聊天框整体样式
  --bg-chat-drawer: var(--hula-brand-primary);
  --bg-setting-item: var(--hula-brand-primary);
  --setting-item-line: var(--hula-brand-primary);
  // 弹出框背景样式
  --bg-popover: var(--hula-brand-primary);
  // 右键菜单样式或者需要透明的菜单的样式
  --bg-menu: linear-gradient(45deg, rgba(var(--hula-white-rgb), 0.45) 40%, rgba(var(--hula-white-rgb), 0.65) 60%);
  --bg-menu-hover: rgba(10, 20, 28, 0.1);
  --line-color: var(--hula-brand-primary);
  // 通用左边菜单栏的hover样式
  --bg-left-menu: rgba(241, 241, 241, 1);
  --bg-left-menu-hover: rgba(var(--hula-gray-500-rgb), 0.1);
  --bg-left-active: rgba(var(--hula-gray-500-rgb), 0.2);
  //通用按钮样式
  --button-bg-color: var(--hula-brand-primary);
  // 通用禁用时的样式
  --disabled-color: var(--hula-brand-primary);
  // 气泡背景颜色
  --bg-bubble: rgb(253, 253, 253);
  --bg-bubble-active: var(--hula-brand-primary);
  // 翻译气泡背景色
  --bg-translate-bubble: rgba(200, 200, 200, 0.4);
  // 头像状态的背景颜色
  --bg-avatar: rgba(241, 241, 241, 1);
  // 个人信息框背景颜色
  --info-hover: var(--hula-brand-primary)70;
  --info-text-color: var(--hula-brand-primary);
  // 系统托盘hover样式
  --tray-hover: var(--hula-gray-200);
  --tray-hover-e: var(--hula-brand-primary);
  // 信息框背景颜色
  --bg-info: rgba(255, 255, 255);
  // 表情框样式
  --bg-emoji: rgba(var(--hula-white-rgb), 0.6);
  --emoji-hover: var(--hula-brand-primary);
  --emoji-active-color: var(--hula-brand-primary);
  // 回复消息样式
  --reply-color: var(--hula-brand-primary);
  --reply-hover: var(--hula-brand-primary);
  --bg-reply-img-count: var(--hula-brand-primary);
  // 编辑资料背景颜色
  --bg-edit: var(--hula-brand-primary);
  // 聊天框时间戳样式
  --time-color: var(--hula-brand-primary);
  // chat模块样式
  --chat-bt-color: var(--hula-white);
  --chat-left-bg: var(--hula-brand-primary);
  --chat-right-bg: var(--hula-brand-primary);
  --chat-text-color: var(--hula-brand-primary);
  --chat-hover-color: var(--hula-brand-primary);
  // 搜索框内样式
  --search-color: var(--hula-gray-200);
  // bate
  --bate-color: var(--hula-brand-primary);
  --bate-bg: var(--hula-brand-primary);
  // 卡片hover样式
  --card-bg: var(--hula-brand-primary)60;
  // 安装进度条样式
  --progress-bg: var(--hula-brand-primary);
  // 回复消息框背景
  --reply-bg: rgba(204, 204, 204, 0.4);
  // 危险样式
  --danger-text: var(--hula-brand-primary);
  --danger-bg: var(--hula-brand-primary);
  // 警告样式
  --warning-text: var(--hula-brand-primary)ff;
  --warning-bg: var(--hula-brand-primary)ff;
  // 头像边框颜色
  --avatar-border-color: var(--hula-white);
  // hover头像样式
  --avatar-hover-bg: rgba(var(--hula-white-rgb), 0.1);
  // 插件背景颜色
  --plugin-bg-color: var(--hula-gray-200);
  // 列表悬浮的颜色
  --float-block-hover-color: var(--hula-brand-primary);
  // 悬浮按钮hover样式
  --float-hover-bg-color: rgb(221, 240, 236);
  // 群公告列表背景色
  --group-notice-list-bg: var(--hula-brand-primary)b6;
  // 文件文本的背景颜色
  --file-bg-color: var(--hula-brand-primary);
  // // 安全区域默认预设
  // --safe-area-inset-top: 16px;
  // --safe-area-inset-right: 0px;
  // --safe-area-inset-bottom: 16px;
  // --safe-area-inset-left: 0px;
  --n-dialog-confirm-color: var(--hula-brand-primary);
  --sz-avatar-xl: clamp(96px, 25vw, 146px);
  --sz-avatar-lg: clamp(80px, 22vw, 106px);
  --pad-container-x: clamp(16px, 3vw, 40px);
  --touch-min-h: clamp(44px, 6vh, 56px);
  --sz-chat-bubble-pad-x: clamp(10px, 2vw, 16px);
  --sz-chat-bubble-pad-y: clamp(6px, 1.2vw, 10px);
  --sz-chat-bubble-radius: clamp(14px, 2vw, 18px);
  --sz-chat-bubble-line-h: clamp(20px, 2.2vh, 22px);
  --sz-chat-bubble-max-w: clamp(240px, 32vw, 720px);
  --bubble-max-width: var(--sz-chat-bubble-max-w);
  --sz-chat-input-min-h: clamp(36px, 6vh, 62px);
  --sz-chat-input-min-h-mobile: 2.5rem;
  --sz-chat-input-line-h: 20px;
  --sz-chat-input-line-h-mobile: 2rem;
  --sz-chat-input-pad-x: clamp(8px, 1.5vw, 16px);
  --sz-chat-input-pad-y: clamp(4px, 1vh, 8px);
  --sz-chat-input-font-size: 14px;
}

html[data-theme='dark'] {
  --center-bg-color: var(--hula-brand-primary);
  --right-bg-color: var(--hula-brand-primary);
  // 阴影样式的颜色
  --box-shadow-color: rgba(var(--hula-gray-500-rgb), 0.1);
  // 文字颜色
  --text-color: var(--hula-white);
  // 整体图标颜色
  --icon-color: var(--hula-brand-primary);
  --action-bar-icon-color: var(--hula-brand-primary);
  --action-bar-icon-hover: var(--hula-brand-primary);
  // 搜索框背景颜色
  --search-bg-color: var(--hula-brand-primary);
  // 消息列表样式
  --bg-msg-first-child: var(--hula-brand-primary);
  --bg-msg-hover: var(--hula-brand-primary);
  --bg-active-msg: rgba(var(--hula-brand-rgb), 0.6);
  // 聊天框整体样式
  --bg-chat-drawer: var(--hula-brand-primary);
  --bg-setting-item: var(--hula-brand-primary);
  --setting-item-line: var(--hula-brand-primary);
  // 弹出框背景样式
  --bg-popover: var(--hula-brand-primary);
  // 右键菜单样式或者需要透明的菜单的样式
  --bg-menu: linear-gradient(45deg, rgba(var(--hula-gray-800-rgb), 0.65) 60%, rgba(var(--hula-gray-800-rgb), 0.95) 90%);
  --bg-menu-hover: var(--hula-brand-primary);
  --line-color: var(--hula-brand-primary);
  // 通用左边菜单栏的hover样式
  --bg-left-menu: rgba(22, 22, 22, 1);
  --bg-left-menu-hover: var(--hula-brand-primary);
  --bg-left-active: var(--hula-brand-primary);
  //通用按钮样式
  --button-bg-color: var(--hula-brand-primary);
  // 通用禁用时的样式
  --disabled-color: var(--hula-brand-primary);
  // 气泡背景颜色
  --bg-bubble: rgb(38, 38, 38);
  --bg-bubble-active: rgba(66, 66, 66, 0.8);
  // 翻译气泡背景色
  --bg-translate-bubble: rgba(var(--hula-gray-400-rgb), 0.2);
  // 头像状态的背景颜色
  --bg-avatar: rgba(22, 22, 22, 1);
  // 个人信息框背景颜色
  --info-hover: var(--hula-brand-primary)60;
  --info-text-color: var(--hula-gray-200);
  // 系统托盘hover样式
  --tray-hover: var(--hula-brand-primary);
  --tray-hover-e: var(--hula-brand-primary);
  // 信息框背景颜色
  --bg-info: rgba(27, 27, 27);
  // 表情框样式
  --bg-emoji: rgba(27, 27, 27, 0.8);
  --emoji-hover: var(--hula-brand-primary);
  --emoji-active-color: var(--hula-brand-primary);
  // 回复消息样式
  --reply-color: var(--hula-brand-primary);
  --reply-hover: var(--hula-brand-primary);
  --bg-reply-img-count: var(--hula-brand-primary);
  // 编辑资料背景颜色
  --bg-edit: var(--hula-brand-primary);
  // 聊天框时间戳样式
  --time-color: var(--hula-brand-primary);
  // chat模块样式
  --chat-bt-color: var(--hula-brand-primary);
  --chat-left-bg: var(--hula-brand-primary);
  --chat-right-bg: var(--hula-brand-primary);
  --chat-text-color: var(--hula-brand-primary);
  --chat-hover-color: var(--hula-brand-primary);
  // 搜索框内样式
  --search-color: var(--hula-gray-900);
  // bate
  --bate-color: var(--hula-brand-primary);
  --bate-bg: var(--hula-brand-primary);
  // 卡片hover样式
  --card-bg: var(--hula-brand-primary)20;
  // 安装进度条样式
  --progress-bg: transparent;
  // 回复消息框背景
  --reply-bg: rgba(30, 30, 30, 0.6);
  // 危险样式
  --danger-text: var(--hula-brand-primary);
  --danger-bg: var(--hula-brand-primary);
  // 警告样式
  --warning-text: var(--hula-brand-primary)ff;
  --warning-bg: var(--hula-brand-primary)ff;
  // 头像边框颜色
  --avatar-border-color: var(--hula-brand-primary);
  // hover头像样式
  --avatar-hover-bg: rgba(30, 30, 30, 0.6);
  // 插件背景颜色
  --plugin-bg-color: var(--hula-brand-primary);
  // 列表悬浮的颜色
  --float-block-hover-color: var(--hula-white);
  // 悬浮按钮hover样式
  --float-hover-bg-color: rgb(25, 50, 45);
  // 群公告列表背景色
  --group-notice-list-bg: var(--hula-brand-primary);
  // 文件文本的背景颜色
  --file-bg-color: var(--hula-gray-800);
}
@media (min-width: 640px) {
  :root {
    --sz-chat-bubble-max-w: clamp(280px, 42vw, 720px);
  }
}
@media (min-width: 1024px) {
  :root {
    --sz-chat-bubble-max-w: clamp(320px, 36vw, 840px);
  }
}
/**! end */
// 线性动画
@keyframes linearAnimation {
  0% {
    stroke-dasharray: 600;
    stroke-dashoffset: 600;
  }
  100% {
    stroke-dasharray: 600;
    stroke-dashoffset: 0;
  }
}
// 闪烁动画
@keyframes twinkle {
  0% {
    transform: scale(0);
  }
  80% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}
// 懒加载默认动画
@keyframes come-in {
  100% {
    transform: translateX(0);
  }
}
/**!修改naive-ui的遮罩层样式*/
@mixin mask-style($blur: 4px) {
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
}

// 使用CSS变量来控制模糊效果
html[data-blur='1'] {
  .n-modal-mask,
  .n-drawer-mask {
    background-color: rgba(var(--hula-white-rgb), 0.1);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }
}

.n-modal-mask {
  @include mask-style;
}

.n-drawer-mask {
  @include mask-style(2px);
}
/**!end*/

/**! 修改naive-ui复选框的样式 */
:deep(.n-checkbox .n-checkbox-box) {
  border-radius: 50%;
  width: 16px;
  height: 16px;
}

/**! 修改naive-ui滚动条的间距 */
:deep(
  .n-scrollbar > .n-scrollbar-rail.n-scrollbar-rail--vertical,
  .n-scrollbar + .n-scrollbar-rail.n-scrollbar-rail--vertical
) {
  right: 0;
}

/**! 修改naive-ui Popselect选中的样式 */
.n-base-select-menu .n-base-select-option.n-base-select-option--selected {
  color: var(--hula-brand-primary);
}
.n-base-select-menu .n-base-select-option .n-base-select-option__check {
  color: var(--hula-brand-primary);
}

/**! 通用菜单项目样式 */
@mixin menu-item-style($position: fixed) {
  position: $position;
  background: var(--bg-menu);
  color: var(--text-color);
  border-radius: 6px;
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  box-shadow:
    0 0 0 1px rgba(var(--hula-white-rgb), 0.08),
    0 2px 2px rgb(0 0 0 / 3%),
    0 4px 4px rgb(0 0 0 / 4%),
    0 10px 8px rgb(0 0 0 / 5%),
    0 15px 15px rgb(0 0 0 / 6%),
    0 30px 30px rgb(0 0 0 / 7%),
    0 70px 65px rgb(0 0 0 / 9%);
  z-index: 999;
  width: fit-content;
  font-size: 14px;
  line-height: 1.8;
  white-space: nowrap;
  overflow: hidden;
}

/**! 通用菜单项样式 */
@mixin menu-list() {
  padding: 5px;
  display: flex;
  flex-direction: column;
  gap: 6px;
  .menu-item {
    padding: 2px 8px;
    border-radius: 4px;
    cursor: pointer;
    user-select: none;
    display: flex;
    align-items: center;
    gap: 10px;
    svg {
      width: 16px;
      height: 16px;
    }
    &:hover {
      background-color: var(--bg-menu-hover);
      svg {
        animation: twinkle 0.3s ease-in-out;
      }
    }
  }
}

/** 修改默认的naive-ui的选择器样式 */
:deep(.n-base-selection) {
  --n-box-shadow-active: 0 0 0 2px rgba(var(--hula-brand-rgb), 0.2) !important;
  --n-border-active: 1px solid var(--hula-brand-primary) !important;
  --n-border-hover: 1px solid var(--hula-brand-primary) !important;
}
